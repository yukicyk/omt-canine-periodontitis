set.seed(123) # for reproducibility
# R/generate_synthetic_clinical_data.R
# This script generates a synthetic clinical dataset based on the summary
# statistics published in Table 1 of Beikler et al., 2021, JDR.
# Important: The purpose of this synthetic data is to allow the correlation and machine learning scripts to execute without error.
# The specific numerical results from these scripts (e.g., exact correlation coefficients, variable importance scores) will naturally differ from the original publication.
# The goal is to validate the process, not the original findings.
# The purpose is to allow the analysis scripts to run for reproducibility of the method.
set.seed(123) # for reproducibility
# Data from Table 1 of the paper
# Format: timepoint, group, n, mean_ppd, sd_ppd, mean_bop, sd_bop, mean_pi, sd_pi
published_stats <- data.frame(
Timepoint = rep(c("Week -2", "Baseline", "Week 2", "Week 12"), each = 2),
Group = rep(c("Test", "Control"), 4),
n = 9,
mean_ppd = c(3.21, 2.90, 2.98, 2.53, 2.69, 2.64, 2.69, 2.44),
sd_ppd = c(0.65, 0.52, 0.74, 0.46, 0.50, 0.40, 0.57, 0.28),
mean_bop = c(41.87, 42.36, 41.24, 45.68, 32.90, 42.15, 35.99, 32.43),
sd_bop = c(26.73, 23.12, 19.64, 19.64, 14.72, 11.34, 18.86, 7.78),
mean_pi = c(76.40, 77.37, 61.32, 69.54, 58.57, 70.31, 65.66, 61.37),
sd_pi = c(11.37, 13.48, 10.88, 16.31, 10.41, 15.42, 19.83, 16.17)
)
# Generate synthetic data for each dog
synthetic_data <- list()
for (i in 1:nrow(published_stats)) {
row <- published_stats[i, ]
dog_ids <- if (row$Group == "Test") paste0("Dog-", LETTERS[c(1, 3, 6, 8, 10, 12, 14, 16, 17)]) else paste0("Dog-", LETTERS[c(2, 4, 7, 9, 11, 13, 15, 18, 19)])
temp_df <- data.frame(
Dog = dog_ids,
Timepoint = row$Timepoint,
Group = row$Group,
PPD = rnorm(row$n, mean = row$mean_ppd, sd = row$sd_ppd),
BOP = rnorm(row$n, mean = row$mean_bop, sd = row$sd_bop),
PI = rnorm(row$n, mean = row$mean_pi, sd = row$sd_pi)
)
synthetic_data[[i]] <- temp_df
}
final_synthetic_data <- do.call(rbind, synthetic_data)
# Ensure values are within logical bounds (e.g., percentages between 0 and 100)
final_synthetic_data$BOP <- pmax(0, pmin(100, final_synthetic_data$BOP))
final_synthetic_data$PI <- pmax(0, pmin(100, final_synthetic_data$PI))
final_synthetic_data$PPD <- pmax(0, final_synthetic_data$PPD)
# Save the synthetic data to a file
write.csv(final_synthetic_data, "data/synthetic_clinical_data.csv", row.names = FALSE)
print("Synthetic clinical data has been generated and saved to data/synthetic_clinical_data.csv")
